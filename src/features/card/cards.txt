Anv칛ndningsfall
----
 1. Inget kort
    account.noOfCards: 0
    cards: []

    Visa:
        ans칬k om kort


 2. Kort best棋llt
    account.noOfCards: 1
    cards: []

    Visa:
        ditt kort 칛r p친 v칛g


 3. Inaktivt kort
    account.noOfCards: 1
    cards: [ {extra: false, active: false} ]

    Visa:
        aktivera kort

    Efter aktivering:
        ditt kort har aktiverats, tillbaka till kort칬versikt (ritar om sig enligt 4.)


 4. Aktivt kort
    account.noOfCards: 1
    cards: [ {extra: false, active: true} ]

    Visa:
        kortinfo
        best칛ll extrakort
        sp칛rra kort


 5. Kort best칛llt, extrakort best칛llt   (kan uppst친 efter sp칛rra kort?)
    account.noOfCards: 2
    cards: []

    Visa:
        dina kort 칛r p친 v칛g (2 st)


 6. Inaktivt kort, extrakort best칛llt
    account.noOfCards: 2
    cards: [ {extraCard: false] ]

    Visa:
        aktivera kort
        ditt extrakort 칛r p친 v칛g

    Efter aktivering:
        ditt kort har aktiverats, tillbaka till kort칬versikt (ritar om sig enligt 7.)


 7. Aktivt kort, extrakort best칛llt
    account.noOfCards: 2
    cards: [ {extraCard: false, active: true] ]

    Visa:
        kortinfo
        ditt kort 칛r p친 v칛g (1 st)
        best칛ll extrakort
        sp칛rra kort


 8. Levererat kort, 2 x extrakort best칛llt
    account.noOfCards: 3
    cards: [ {extraCard: false, active: false] ]

    Visa:
        aktivera kort
        dina kort 칛r p친 v칛g (2 st)

    Efter aktivering:
        ditt kort har aktiverats, tillbaka till kort칬versikt


 9. Inget kort, 2 x extrakort best칛llda  (kan uppst친 efter sp칛rra kort?)
    account.noOfCards: 2   <== samma som 5.
    cards: []              <== samma som 5.

    Visa:
        dina kort 칛r p친 v칛g (2 st)


10. Inget kort, extrakort levererat, extrakort best칛llt
    account.noOfCards: 2
    cards: [ {extraCard: true, active: false} ]

    Visa:
        ditt kort 칛r p친 v칛g    (g친r ej avg칬ra om det 칛r huvudkort eller extrakort som best칛llts)
        dina extrakort
            kortinfo med aktivera

    Efter aktivering:
        ditt kort har aktiverats, tillbaka till kort칬versikt

11. Inget kort, 2 x extrakort levererade
    account.noOfCards: 2
    cards: [ {extraCard: true}, {extraCard: true} ]

    Visa:
        ans칬k om kort
        dina extrakort
            kortinfo med aktivera
            kortinfo med aktivera



Pages
----

Manage card page
/card/:accountRef

Components
----

KORT
--
x Ans칬k om kort (panel)
x   Tack f칬r din best칛llning (panel)
x   Best칛llning kunde inte genomf칬ras (panel)
x Visa befintligt kort (panel)
x Aktivera kort (panel)

EXTRAKORT
--
x Skaffa extrakort (panel)
x   Tack f칬r din best칛llning (samma som kort)
x   Best칛llning kunde inte genomf칬ras (samma som kort)
x Visa extrakort (panel)
x   Visa/aktivera befintligt extrakort (subpanel)

OTHER
--
x Sp칛rra kort


TEST DATA
----
GET ACCOUNT with no card
---
{
  "responseTime" : 17,
  "status" : 200,
  "response" : {
    "accountNumber" : "9752238000003902",
    "reference" : "CHMNc3UHD1FUCXQCQHJlQQRWNzdGVyLVNIQgxxxxx",
    "product" : {
      "id" : "MCARD111",
      "name" : "Inl친ning mastercard 111",
      "cardName" : "MULTICARD MASTERCARD            "
    },
    "limit" : 4000000,
    "used" : -486197,
    "maxLimit" : 20000000,
    "overDrawn" : false,
    "allowIncreaseLimit" : true,
    "status" : "ACTIVE",
    "cardProfile" : "other",
    "brickId" : "130",
    "reserved" : false,
    "numberOfCards" : 0
  }
}

APPLY FOR CARD
---
POST
/rest/customers/v1/:customerId/accounts/cards/:accountRef

response
{
  "responseTime" : 435,
  "status" : 204
}

GET ACCOUNT after card application
---
{
  "responseTime" : 22,
  "status" : 200,
  "response" : {
    "accountNumber" : "9752206000201859",
    "reference" : "CHMNc3UEAVFUCXYCQnNgSgRWNzdGVyLVNIQgxxxxx",
    "product" : {
      "id" : "MCARD002",
      "name" : "HX KONTO",
      "cardName" : "MASTERCCARD ICKE CHIP           "
    },
    "limit" : 1500000,
    "used" : 0,
    "maxLimit" : 15000000,
    "overDrawn" : false,
    "allowIncreaseLimit" : true,
    "status" : "ACTIVE",
    "cardProfile" : "ecster",
    "brickId" : "112",
    "reserved" : false,
    "numberOfCards" : 1    <== no of cards is 1
  }
}

Get cards
---
GET
/rest/customers/v1/:customerRef/accounts/:accountRef/cards

response
{
  "responseTime" : 21,
  "status" : 200,
  "response" : {
    "cards" : [ ]   <== no of elements is 0
   }
}


REKIT
----

rekit add component card/ManageCardPage -c -u /card/:accountRef

rekit add component card/ApplyForCardPanel
rekit add component card/ApplyForCardSuccessPanel
rekit add component card/ApplyForCardFailurePanel
rekit add component card/ActivateCardPanel
rekit add component card/ShowCardPanel

rekit add component card/ApplyForExtraCardPanel
rekit add component card/ShowExtraCardsPanel
rekit add component card/ShowExtraCardSubpanel

rekit add component card/BlockCardPanel
