@import '../../styles/mixins';

@import "~@ecster/ecster-styles/scss/v2/common/colors";
@import "~@ecster/ecster-components/Button/Button.css";


$breakpoint: 28.125em;
$small-screens: 20em;
$max-width: 45rem;
$background-color: $beige10;
$ecster-logo-green: $green;
$table-border-color: $gray40;
$border-color: #e1dbd1;
$border: 1px solid $border-color;
$color-text: $gray140;

$box-padding: 17px;

body {
    background: 0 11rem no-repeat $background-color;
    background-size: contain;
}

.home-login-page{
    /* Overrides from imported stylesheet(s) */
    & .button{
        font-size: 1.8rem; // REM is more accessible than PX

        &.--round {
            & > span:first-child {
                padding: 0 25px;
                line-height: 44px; // Make the text to center vertically as the button height is 44px;
                height: 100%;
                display: inline-block;

                .spinner{
                    max-width: 44px; // Needed for IE11 to size the button with a spinner correctly
                }
            }
        }
    }

    & .home-login-page__link{
        font-size: 1.4rem;
    }
}

.home-login-page {
    @include grid-cell(1,1,1,1);

    background-repeat: no-repeat;
    background-size: contain;
    background-position: bottom;
    height: 100%;
    width: 100%;

    padding: 10px;

    @include grid((
        rows: 1fr,
        cols: 1fr
    ));

    &__logo {
        @include grid-cell(1,1,1,1); /* We need to specify the row as well, since we use the row position for other items */
        @include x-align(center);

        margin-top: 10vmin;

        & svg {
            display: block; // so the link element wraps the entire SVG.
            width: 170px;
            fill: $ecster-logo-green;
        }
    }

    &__box {
        @include grid-cell(1,1,1,1); /* We need to specify the row as well, since we use the row positon for other items */

        @include grid((
            cols: 1fr, // Needed for IE11 to correctly center the items, otherwise the'll center around the longest item.
            rows: 2rem 1fr
        ));
        @include xy-align();

        overflow: hidden;
        padding: $box-padding;
        max-width: 50rem;
        background: #fff;
        width: 100%;
        border-radius: 6px;
        box-shadow: 0 0 6px 0 rgba(0, 0, 0, .1);
        border: $border;
    }

    &__form{
        @include grid-cell(1,1,1,2);
        margin-bottom: 30px;

        @include grid((
            cols: 1fr, // Needed for IE11 to correctly center the items, otherwise the'll center around the longest item.
            rows: 1fr
        ));

        &--help{
            @include grid-cell(1,1,1,1);

            @include grid((
                cols: 1fr, // Needed for IE11 to correctly center the items, otherwise the'll center around the longest item.
                rows: 1fr
            ));

            transform: translateX(100%);
            will-change: transform;
        }
    }

    &__header {
        @include x-align(center);
        @include grid-cell(1,2,1,1);

        margin: 70px - $box-padding 0 0 0;

        color: $ecster-logo-green;
        font-size: 3.6rem;
        font-weight: 600;
    }

    .text-input {
        input {
            width: 27rem;
            height: 4.4rem;
            border-radius: 6px;
            border: 1px solid #ccc;
            -moz-appearance: textfield;
        }
    }

    &__button {
        @include x-align(center);
        @include grid-cell(1,1,2,1);

        margin: 80px 0 0 0;
    }

    &__link {
        color: $ecster-logo-green;
        font-weight: 900;
        text-decoration: none;

        &--logo{
            display: inline-block; /* To only get the hover effect when hovering over the actual logo */
        }

        &--bankid {
            display: block; // Needed for IE11 to get the correct stack order
            @include x-align(center);
            @include grid-cell(1,1,3,1);

            margin: 30px 0 0 0;
        }
    }

    & .help{
        @include grid-cell(1,1,1,1);
        @include x-align(end);

        &__icon:after{
            border: 1px solid;
            content: '?';
            font-weight: 400;
            width: 2rem;
            height: 2rem;
            border-radius: 2rem;
            display: inline-block;
            text-align: center;
        }
    }

    .help__icon:hover:after {
        text-decoration: none;
    }

    &__body{
        @include grid-row(2);
    }

    & .other-device{
        .home-login-page__header{
            text-align: center;
            font-size: 2.2rem;
        }

        .text-input{
            @include grid-cell(1, 1, 2, 1);
            @include x-align(center);

            margin-top: 20px;
        }
        .home-login-page__button {
            @include grid-cell(1, 1, 3, 1);

            margin-top: 20px;
        }
        .home-login-page__link{
            @include grid-cell(1, 1, 4, 1);

            margin-top: 40px;
        }
    }

}


@media only screen
and (orientation: landscape) {
    body {
        background-size: cover;
    }

    .home-login-page{
        &__form {
            margin-bottom: 20px;
        }

        &__header {
            margin-top: 20px;
        }

        &__button {
            margin-top: 40px;
        }
    }
}


/////////////////
/*** TABLET ***/
///////////////

@media only screen
and (min-width: 768px)
    //and (max-device-width: 1024px)
    //and (orientation: portrait)
{
    body{
        background-position: 0 bottom;
    }

    .home-login-page{
        &__logo{
            & svg{
                width: 320px;
                height: inherit;
            }
        }

        &__form {
            margin-bottom: 60 - $box-padding;
        }

        &__header{
            font-size: 5rem;
            margin-top: 23px;
        }

        &__button, &link--bankid{
            margin-top: 30px;
        }
    }
}


@media only screen
and (max-width: 768px)
and (orientation: landscape){
    .home-login-page{
        background-size: cover;

        &__logo{
            @include x-align(left);
            margin: 1vmin;

            & svg{
                width: 100px;
            }
        }
    }
}

@media only screen
and (min-device-width: 768px)
and (max-device-height: 1024px)
and (max-height: 922px)  /* This is with the tab bar open (more then one page)*/
and (orientation: portrait)
and (min-device-pixel-ratio: 2)
{

}



//////////////////
/*** DESKTOP ***/
////////////////

@media screen
and (hover: hover),
(min-width: 769px),
(min--moz-device-pixel-ratio: 0),
(-ms-high-contrast: active),
(-ms-high-contrast: none)
{
    .home-login-page {
        background-position: 0 0;
        background-size: cover;

        &__logo{
            justify-self: inherit;
            margin: 39px 0 0 149px;

            & svg {
                width: 220px;
            }
        }

        &__box {
            @include xy-align();
            @include grid-row(1);
        }

        &__form{
            margin-bottom: 80 - $box-padding;
        }

        &__header{
            margin-top: 60 - $box-padding;
        }

        .text-input{
            @include grid-row(2);
            @include x-align(center);

            margin-top: 40px;

            span{
                display: block; // div isn't allowed inside label
                margin-left: 1rem;
            }

            label{
                padding: 0 0 0 1rem;
                font-size: 1.4rem;
            }
        }


        &__button{
            @include grid-row(3);

            margin-top: 30px;
        }

        &__link{
            &--bankid{
                @include grid-row(4);

                margin-top: 30px;
            }
        }
    }
}

.visually-hidden {
    position: absolute !important;
    clip: rect(1px 1px 1px 1px); /* IE6, IE7 */
    clip: rect(1px, 1px, 1px, 1px);
    padding:0 !important;
    border:0 !important;
    height: 1px !important;
    width: 1px !important;
    overflow: hidden;
}
